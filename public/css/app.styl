// Variables de configuration
@import "includes/config"

// Fonctions stylus
@import "includes/mixins"

*
	box-sizing(border-box)

input
.btn
.input-group
.form-control
.nav-tabs > li > a
.well
.alert
.navbar
.dropdown-menu
	border-radius(0)

// Clear both
.cb
	clear both

html
body
	// Tailles, marges interne et externe.
	size(100%)
	margin 0
	padding 0

body
	// Police de charactères.
	font 14px/1.4 $fonts
	padding-bottom $footerHeight
	background $lightGray
	// Bloquage de la séléction sur tous les navigateurs.
	// -webkit-touch-callout none
	// user-select(none)

	&.openingTemplate

		#wrap
			padding-top 35px

		// Paramètres du fond de la page.
		background no-repeat center fixed
		background-size(cover)
		transition background-image 1s ease-in-out

		&.bg1
			cover('background-image/big/1')

		&.bg2
			cover('background-image/big/2')

		&.bg3
			cover('background-image/big/3')


.well
	padding $mainPadding
	background white

	&.macro
		background $ultraLight

h3
	margin 0 0 $mainPadding
	color $orange
	text-shadow 0 1px 1px white
	font-size 18px
	font-weight normal

	&.important
		font-weight bold

h5
	color $mediumGray
	text-transform uppercase

i
	font-style normal

hr
	margin 5px 0

.alert-warning
	background $warningColor
.alert-success
	background $successColor
.alert-info
	background $infoColor
.alert-danger
	background $dangerColor

#logo-content
.main-padding
	padding $mainPadding

#logo-content
	height 40px

.block
	display block
	.glyphicon
		top 3px

iframe
	display block
	size(100%, 0px)
	border none

.loader
.loading
	background-image url(gif(loader))
	background-position center center
	background-repeat no-repeat

.loader
	fix(0px, 0px)
	size(100%)
	opacity(1)
	overflow hidden
	background-color rgba(0, 0, 0, .2)
	transition(opacity .4s)
	&.preload
		opacity(0)
		height 0

.loading *
	visibility hidden

.loading.loading-big-height
	max-height 300px


#wrap
	min-height 100%
	height auto !important
	height 100%
	margin 0 auto -$footerHeight
	padding $headerHeight 0 $footerHeight

footer
	// Tailles du pied de page.
	size(100%, $footerHeight)

	// Paramètres relatif au texte. (Hérite de body)
	text-align center

	// Fond du pied de page.
	background-color $footerBackground

	a.link
	.copytag
		// Marges interne et externe des liens du pied de page (footer)
		display block
		//margin-top $bigPadding
		padding $mainPadding
		color $nearlyBlack

	a.link
		// Marges interne et externe des liens du pied de page (footer)
		display block
		padding $mainPadding

		// Type de container
		display inline-block

		// Paramètres relatif au texte.
		font-weight $linkWeight

		// Liens du pied de page au passage de la souris.
		&:hover
			text-decoration underline


.notifications
	.read
		background $nearlyBlack
	.thumb
		size($notificationThumbWidth, $notificationThumbHeight)
		margin 0 5px 0 -5px
	.pill
		visibility hidden

a
.btn
	cursor pointer


.dropdown-menu
	border none

.navbar
	font-size 17px
	color white
	border-bottom 0

#navbar
	font-size 14px
	background $orange
	.dropdown-menu
	.open > a
		background $darkOrange
	.dropdown-menu a
		&:hover
		&:focus
		&:active
			background lighten($darkOrange, 20%)
	& li > a
	.open > a
		color white
		&:hover
		&:focus
		&:active
			background $darkOrange

	.banner
		z-index 1
		rel(1px, 0)
		background none

	#underbar
		margin-bottom 0
		border-top 0

.navbar a
	color inherit
	text-decoration none
	display inline
	transition(all .2s)
	&:hover
		background $darkOrange

#underbar
	font-size 14px
	background $nearlyBlack
	box-shadow(inset 0 1px 4px -2px $black)
	color white
	height $headerHeight
	ul.navbar-right
		margin-right 0
	.navbar-form label
		display block
	.glyphicon
		color $lightOrange
	.dropdown-menu
	.open > a
	a:hover
	a:focus
	a:active
		background $hoverGray
	& li > a
	.open > a
		color white
	& li li > a
		padding-right 2 * $bigPadding
		&:hover
		&:focus
		&:active
			background lighten($hoverGray, 10%)
	.date
		color white
		.glyphicon
			color white

.flattenable
	overflow hidden
	transition(all .2s)
	transition-property(height, min-height, margin-top, margin-bottom)

	&.flattened
		height 0
		min-height 0
		margin-top 0
		margin-bottom 0

.pill
	display inline-block
	background white
	color $orange
	font-size 12px
	line-height 20px
	padding 1px 8px 1px 7px
	border-radius(100%)

#search
	margin 2px 0 -1px
	height 32px

.ref-color
	color $orange

.errors
	margin 0 15px

.well .errors
	margin 0 $mainPadding

.inline-button
	margin 0 $smallPadding
	padding 0 $mainPadding
	position relative
	img
	span
		position absolute
		left 2px
		top 0


blockquote
	font-size 14px


span.form-control
div.form-control
a.form-control
button.form-control
input.form-control
select.form-control
.btn
	padding $fieldVPadding $fieldHPadding
	margin $mainPadding 0
	line-height $fieldLineHeight * 0.7
	transition(all .2s)

	height $fieldLineHeight + 2 * $fieldVPadding + 2

.btn
	.glyphicon
		margin 1px 7px -1px 0
		&:last-child
			margin-right 0

.btn.bar
	display block
	margin 0 $mainPadding

.form-control
	border 1px solid rgba(156, 156, 156, 0.35)
	padding $fieldVPadding - 1 $fieldHPadding - 1
	font-family $fonts

select.form-control
	padding $fieldVPadding 40px $fieldVPadding $smallPadding

::-webkit-input-placeholder
	line-height $fieldLineHeight

:-moz-placeholder
	line-height $fieldLineHeight

::-moz-placeholder
	line-height $fieldLineHeight

:-ms-input-placeholder
	line-height $fieldLineHeight

.btn:focus
.btn-primary:focus
.btn:hover
.btn-primary:hover
.form-control:focus
	outline(none)
	border-color #D7752E
	box-shadow(0px 0px 3px 1px #F7852E)

.btn:focus
.btn-primary:focus
.btn:hover
.btn-primary:hover
	background $gray

.btn
.btn-primary
	line-height 18px

	// Bordures.
	border none

	// Paramètres relatif au texte.
	font-weight bold
	color white

	// Fond
	background $darkGray

	&.btn-plain
		width 100%

.btn-primary
	background $primaryColor

// Image logo.
img#logo
	size(50px)
	abs()
	top -35px
	margin 0 auto
	position relative

.sign-in-overlay-container
	abs(50%)
.sign-in-overlay
	background-color rgba(0,0,0,0.6)
	border-radius(10px)
	abs(-310px/2)
	@media (max-width: 768px)
		abs(-336px/2)

.std-line
	display inline-block
	line-height 14px
	vertical-align bottom

label
	font-weight normal
	// color $linkColor
	input[type="checkbox"]
		position relative
		top 2px
		margin-right $smallPadding

.loggedFriends li
	.thumb
		float left
		margin 0
		size($notificationThumbWidth, $notificationThumbHeight)
	.glyphicon
		color #35AC19

.loggedFriends-list
.notification-list
	border-radius(0 0 2px 2px)

#wrap
#navbar
	transition margin-right .2s

	&.opened-shutter
		margin-right 300px

#shutter
	position fixed
	top 0
	right 0
	size(0, 100%)
	overflow hidden
	transition(width .2s)

	&.opened-shutter
	.inner-shutter
	.nav
	.inner-shutter > a
	ul a
		width 300px

	.inner-shutter > a
	ul a
		display block
		background white
		transition(background .2s)
		color $nearlyBlack
		padding $mainPadding
		&:hover
			text-decoration none
			background $gray

	.nav
		margin 0
		a
			color white
			background $nearlyBlack
			transition(background .2s)
			&:hover
				background lighten($nearlyBlack, 10%)
			height $headerHeight
			line-height 32px
			text-align right
			font-size 18px
			// border-left $shutterBorderWidth solid $darkOrange
			.glyphicon
				top 2px

	.inner-shutter
		height 100%
		background white
		// border-left $shutterBorderWidth solid $darkGray

	.footer
		font-size 13px
		color $darkGray
		border 1px solid $lightGray
		// border-radius(4px)
		padding $mainPadding
		margin $mainPadding

// Formulaire de connexion.
form#login-signin
	padding $mainPadding 0
	.narrow
		padding 0 $smallPadding

// Lien d'oublie du mot de passe.
a#forget-it
	float right
	color $orange
	margin-bottom $mainPadding
	// Lien d'oublie du mot de passe au passage de la souris.
	&:hover
		text-decoration none

.invite-message
	color $nearlyWhite
	text-align center
	@media (max-width: 768px)
		padding-top 40px

h2
	// Paramètres relatif au texte. (Hérite de body)
	color #5f5f5f
	font-weight bold
	font-size 20px
	text-align center

	// Marges externes et type d'élément.
	margin $smallPadding
	display block


.big-line
	line-height 28px


.album
	background $ultraLightOrange
	// border-radius(4px)
	padding 0 $smallPadding $smallPadding 0
	transition(.2s all)
	margin 0 $mainPadding $mainPadding 0
	cursor pointer
	float left

	&:hover
		background $lightOrange

	h4
		font-weight bold
		font-size 15px
		margin 0 0 $smallPadding

	.description
		margin 2px 0 0

	.preview
		size(2 * (50 + $smallPadding), 2 * (50 + $smallPadding))
		padding 0
		img
			display block
			float left
			margin $smallPadding 0 0 $smallPadding
			size($thumbWidth, $thumbHeight)

.description
	font-size 11px

.edit-album-name
.edit-album-description
.edit-album-actions
	margin 0 0 $mainPadding
	input
	textarea
		margin 0

.settings .glyphicon-cog
	color $mediumGray

	&:hover
		color $linkColor

.cancel
	background $mediumGray
@media (max-width: 767px)
	.edit-album-actions .cancel
		margin-bottom $smallPadding
	.edit-album-actions .btn+.btn
		margin-left 0

#createAccountTitle
	padding-top $mainPadding
	padding-bottom 2 * $bigPadding

.player
	margin auto
	height auto

ul.photos-thumbs
	list-style none
	padding 0
	li
		display block

.thumb
	display block
	float left
	margin $smallPadding

.thumb
.thumb img
	width $thumbWidth
	height $thumbHeight

.date
	color $darkGray

.friend-ask
	// .if-accepted
	// 	display none
	// .if-accepted
	.shift
		margin-left $thumbWidth + $bigPadding
		.username
			font-weight bold
		.btn
			margin $smallPadding 0 0


.headband
	padding $smallPadding 0

.fit
	padding 0

.fit-to-bottom
	padding-bottom 0

.glued
.btn.glued
input.glued
	margin 0

fieldset.tab .btn
	margin-bottom 0

.medias
	h3
		clear left
		margin 0
		padding-top $mainPadding

	iframe
	img
		size(90px)
		float left
		margin 0 $smallPadding $smallPadding 0

	iframe.preview
		float none
		size(480px, 270px)
		@media (max-width: 564px)
			size(240px, 135px)

	img.video-preview
		size(240px, 180px)

	a:not(.album-name)
		display block

span.image-box i.glyphicon
	float left
	margin 2px 2px 0 -26px
	color rgba(255,255,255,.6)
	font-size 19px
	cursor pointer

	&:hover
		color white

.suggests
#underbar .suggests
	position relative
	top -3px

	ul
		display block
		position absolute
		padding 0 $mainPadding
		background $ultraLight
		box-shadow(inset 0 2px -2px $gray)
		box-shadow(0 0 4px $darkGray)
		width 100%
		z-index 3
		min-width 360px
		@media (max-width: 360px)
			min-width 0

		li
			display block
			clear both

			a
				height $thumbHeight + 2 * $smallPadding
				display block
				padding 0
				//line-height 58px
				border-bottom 1px solid $gray
				margin 0 0 -1px -1px
				color $nearlyBlack
				&:hover
					background $lightGray

			a.chat-with
				text-align center
				padding-top 15px

				.glyphicon
					margin-left 0

			.user-name
				margin-top $mainPadding

			.user-points
				font-size 10px
				color $darkGray

		li:last-child a
			border-bottom none

.chat-list

	.user-chat
		rel()
		.thumb
			margin $smallPadding $mainPadding $smallPadding (- $smallPadding)

	a
		text-decoration none
		color $nearlyBlack
		display block
		&:hover
			background $lightGray

	a.delete-chat
		text-align center
		background $orange
		min-height $thumbHeight + 10
		height calc(100% - 21px)
		abs(0, false)
		right 0

		&:hover
			background lighten($orange, 20%)

		.glyphicon
			margin-top 23px
			margin-left 0
			color $nearlyWhite
	.date
		font-size 10px


.cookiesWarning .navbar-right
	text-align right

.aside
	text-align right
	float right
	width 200px
	&.continue
		clear right
		position relative
		.dropdown-menu
			position absolute
			top $smallPadding
			right $smallPadding

.large-dropdown
	position relative
	text-align right
	float right
	width 250px

.word-wrap
	overflow-wrap break-word
	white-space -moz-pre-wrap
	white-space -pre-wrap
	white-space -o-pre-wrap
	white-space pre-wrap
	word-wrap break-word
	// word-break break-all

.tab
	padding $mainPadding
	margin-bottom $mainPadding
	background white
	border 1px solid #ddd
	border-top-color transparent
	// border-radius(0 0 4px 4px)

.modal-footer .btn
	margin 0

#delete-account
	color red

.after-form
	padding-top 15px

#media-viewer
	.modal-body
		text-align center
	.modal-footer .info
	a.prev
	a.next
		float left
		display block
	.modal-footer
			clear left
		a.info
			clear left
			cursor pointer
		img.thumb
			size(20px)
			margin 0
	img.big
		max-width 100%
	.img-buttons
		display block
		margin auto
	a
		color $orange
	a.prev
	a.next
		max-width 50%
		cursor pointer
		color white
		text-shadow 0 0 5px black
		vertical-align middle
		opacity(0)
		transition(all .2s)
		&:hover
			opacity(0.5)
		&.disabled
			cursor inherit
			opacity(0)

#signin
#login-signin
	label
		font-size 12px
		display block

#remember-me
	color $nearlyWhite

.scroll-cursor
	rel(-100px, 0)

.fade-on-load
	transition all .2s
	&.not-loaded
		opacity(0)

.fit-bar div
	padding 0 $mainPadding
	&:first-child
		padding-left 0
	&:last-child
		padding-right 0

.slogan-message
	color $nearlyWhite
	text-align center
	text-transform initial

// Imports.
@import "includes/tooltip"
@import "user/login"
@import "user/profile"
@import "user/status"
@import "user/comment"
@import "user/chat"
@import "agenda"

@media (max-width: 414px)
	.nav-tabs.nav>li>a
		font-size 13px

	.invite-block
	.medias-block
	.friends-block
		display none

	.date
		font-size 10px

	footer
		// Tailles du pied de page.
		size(100%, $mobileFooterHeight)

	.slogan-message
		display none

// Media Queries.
@media (max-width: 767px)
	.xs-margin-up
		margin-top $mainPadding
	body.openingTemplate

		&.bg1
			cover('background-image/small/1')

		&.bg2
			cover('background-image/small/2')

		&.bg3
			cover('background-image/small/3')

	.navbar h1
	.desktop
	#shutter
	li.open-shutter
	#they-use-wornet
		display none

	#navbar
		.navbar-header
			height $headerHeight

		.navbar-brand img
			margin-top -8px

	#wrap
	#navbar
		&.opened-shutter
			margin-right 0

	#createAccountTitle
		padding-bottom $bigPadding

	#slogan
		padding-top $bigPadding * 1.5
		padding-bottom $smallPadding

	.mobile-field
		padding $fieldVPadding $fieldHPadding
		margin $mainPadding 0
		line-height $fieldLineHeight + $mobileIncrease*0.5
		display block
		background rgba(255, 255, 255, 0.8)
		// border-radius(4px)

	span.form-control
	div.form-control
	a.form-control
	button.form-control
	input.form-control
	.btn
		line-height $fieldLineHeight + $mobileIncrease*0.5
		height $fieldLineHeight + 2 * $fieldVPadding + $mobileIncrease + 2

	.icon-bar
		background white

	#underbar .navbar-form
		margin 0
		padding $smallPadding $mainPadding

		.search .glyphicon
			margin 0 6px -999px
			top -23px
			float right

	footer
		.row
			margin 0
			padding-top 3px

		a.link
		.copytag
			padding $smallPadding
			margin $smallPadding 0 0

	.fit-bar div
		padding 0

	.forget-it
		margin-bottom $mainPadding


@media (min-width: 768px)
	#navbar
		.container-fluid
			padding-left 0
		.navbar
		.nav
			& > li > a
				height $headerHeight
				line-height $headerHeight / 2
	.pad-right
		padding-right $mainPadding

	.pad-left
		padding-left $mainPadding

	.navbar-header
	.mobile
	.nav>li.mobile
		display none

	.navbar h1
		margin 4px 0 (- $headerHeight) 0
		padding-left 30px
		text-align center

	#underbar .navbar-form
		margin-bottom 0
		margin-top 9px
		width 33.33333333%

		label
		.form-control
			width 100%

		.glyphicon
			margin-left -28px
			top 5px

	.sign-in-overlay
		padding 0 50px


@media (max-width: 991px)

	.album
		h4
			font-size 13px

		.preview
			size(2 * (30 + $smallPadding))

			img
				size(30px)
