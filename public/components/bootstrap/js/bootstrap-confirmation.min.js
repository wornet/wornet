!function(t){"use strict"
var n=!1,e=function(e,i){var o=this
t(e).removeAttr("href"),this.init("confirmation",e,i),t(e).on("show",function(){var n=o.options,e=n.all_selector
n.singleton&&t(e).not(o.$element).confirmation("hide")}),t(e).on("shown",function(){var e=o.options,i=e.all_selector
t(this).next(".popover").one("click.dismiss.confirmation",'[data-dismiss="confirmation"]',t.proxy(o.hide,o)),o.isPopout()&&(n||(n=t("body").on("click",function(e){t(i).is(e.target)||t(i).has(e.target).length||t(i).next("div").has(e.target).length||(t(i).confirmation("hide"),t("body").unbind(e),n=!1)})))})}
e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),n=this.btnOk(),e=this.btnCancel(),i=this.getTitle(),o=this.getHref(),a=this.getTarget(),s=(this.$element,this.getBtnOkClass()),r=this.getBtnCancelClass(),l=this.getBtnOkLabel(),c=this.getBtnCancelLabel(),f=this.options
t.find(".popover-title").text(i),n.addClass(s).html(l).attr("href",o).attr("target",a).on("click",f.onConfirm),e.addClass(r).html(c).on("click",f.onCancel),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()},isPopout:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-popout")||("function"==typeof e.popout?e.popout.call(n[0]):e.popout),"false"==t&&(t=!1),t},getHref:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-href")||("function"==typeof e.href?e.href.call(n[0]):e.href)},getTarget:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-target")||("function"==typeof e.target?e.target.call(n[0]):e.target)},getBtnOkClass:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-btnOkClass")||("function"==typeof e.btnOkClass?e.btnOkClass.call(n[0]):e.btnOkClass)},getBtnCancelClass:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-btnCancelClass")||("function"==typeof e.btnCancelClass?e.btnCancelClass.call(n[0]):e.btnCancelClass)},getBtnOkLabel:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-btnOkLabel")||("function"==typeof e.btnOkLabel?e.btnOkLabel.call(n[0]):e.btnOkLabel)},getBtnCancelLabel:function(){var t,n=this.$element,e=this.options
return t=n.attr("data-btnCancelLabel")||("function"==typeof e.btnCancelLabel?e.btnCancelLabel.call(n[0]):e.btnCancelLabel)},tip:function(){return this.$tip=this.$tip||t(this.options.template),this.$tip},btnOk:function(){var t=this.tip()
return t.find('.popover-content > div > a:not([data-dismiss="confirmation"])')},btnCancel:function(){var t=this.tip()
return t.find('.popover-content > div > a[data-dismiss="confirmation"]')},hide:function(){var n=this.btnOk(),e=this.btnCancel()
return t.fn.tooltip.Constructor.prototype.hide.call(this),n.off("click"),e.off("click"),this},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}})
var i=t.fn.confirmation
t.fn.confirmation=function(n){var i=this
return this.each(function(){var o=t(this),a=o.data("confirmation"),s="object"==typeof n&&n
s=s||{},s.all_selector=i.selector,a||o.data("confirmation",a=new e(this,s)),"string"==typeof n&&a[n]()})},t.fn.confirmation.Constructor=e,t.fn.confirmation.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"top",trigger:"click",target:"_self",href:"#",title:"Are you sure?",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content text-center"><div class="btn-group"><a class="btn btn-small" href="" target=""></a><a class="btn btn-small" data-dismiss="confirmation"></a></div></div></div>',btnOkClass:"btn-primary",btnCancelClass:"",btnOkLabel:'<i class="icon-ok-sign icon-white"></i> Yes',btnCancelLabel:'<i class="icon-remove-sign"></i> No',singleton:!1,popout:!1,onConfirm:function(){},onCancel:function(){}}),t.fn.confirmation.noConflict=function(){return t.fn.confirmation=i,this}}(window.jQuery)
